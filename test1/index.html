<!DOCTYPE html>
<html lang="en">
  
  <head>
    <title>Test 1</title>
    <!-- favicon -->
    <link rel="icon" type="image/png" href="https://nicephysics.github.io/moments/assets/icon_32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="https://nicephysics.github.io/moments/assets/icon_16.png" sizes="16x16" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- template time -->
    <link rel="stylesheet" href="https://nicephysics.github.io/main.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- my template -->
    <link rel="stylesheet" href="https://nicephysics.github.io/moments/main.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZXEP243M4F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-ZXEP243M4F');
    </script>
  </head>
  
  <body>

    <!-- header -->
    <header class="container red center" style="padding:16px 16px">
      
      <h1 class="margin jumbo">
        The 4-Digit Test
      </h1>
      <audio controls autoplay muted>
        <source src="https://nicephysics.github.io/moments/assets/test_music.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
      <!-- <p class="huge"></p> -->
      
    </header>
    <!-- end of header -->

    <!-- a grid -->
    <div class="row-padding padding-64 container">
      <div class="content">
        <h1>
          A Number Lock
        </h1>
        <h5 class="padding-16">
          You walked along the winding road, humming to yourself. Moo, moo, moo. All of a sudden, a random number lock fell from the sky. Or was it a sky?
        </h5>
        <h5 class="padding-16 text-grey">
          Type the number 1234 below to continue!
        </h5>
        <div id="wrapper" class="padding-gigantic center" style="background-color:#4CAF50">
          <input id="answer" type="text" placeholder="Enter a number here" maxlength="4" minlength="4" class="vertical-center">
            <!-- input -->
          </input>
          <button id="button" class="fa fa-play button black large vertical-center" onclick="check()">
            <!-- fa-play -->
          </button>
        </div>
      </div>
    </div>

    <!-- footer -->
    <footer id="footer" class="container padding-16 center opacity">
      <p>
        Created by a physics teacher.
      </p>
    </footer>
  
    <!-- js -->
    <script>
      var answer = document.getElementById("answer")
      function check() {
        if (answer.value === "1234") {
          window.location.href = "https://nicephysics.github.io/moments/introduction";
        } else {
          // wrong!
          fade = function(element, startcolor, endcolor, time_elapsed) {
            var currentcolor = startcolor,
                colorchange = [
                  (endcolor[0] - startcolor[0]) / time_elapsed / 60,
                  (endcolor[1] - startcolor[1]) / time_elapsed / 60,
                  (endcolor[2] - startcolor[2]) / time_elapsed / 60
                ],
                stepcount = 0,
                stepinc = 1,
                maxsteps = time_elapsed * 60, // 1 second
                timer = setInterval(function() {
                currentcolor[0] = currentcolor[0] + stepinc * colorchange[0]
                currentcolor[1] = currentcolor[1] + stepinc * colorchange[1]
                currentcolor[2] = currentcolor[2] + stepinc * colorchange[2]
                element.style.backgroundColor = 'rgb(' + parseInt(currentcolor[0]).toString() + ',' + parseInt(currentcolor[1]).toString() + ',' + parseInt(currentcolor[2]).toString() + ')'
                console.log(element.style)
                stepcount += stepinc;
                if (stepcount >= maxsteps) {
                  stepinc = -1;
                } else if (stepcount < 0) {
                    element.style.backgroundColor = 'rgb(' + parseInt(startcolor[0]).toString() + ',' + parseInt(startcolor[1]).toString() + ',' + parseInt(startcolor[2]).toString() + ')'
                    clearInterval(timer)
                }
            }, 16)
          }
          fade(document.getElementById("wrapper"), [76, 175, 80], [175, 76, 80], 0.5)
        }
      }
    </script>
    
    <!-- end of body -->
  </body>

</html>
